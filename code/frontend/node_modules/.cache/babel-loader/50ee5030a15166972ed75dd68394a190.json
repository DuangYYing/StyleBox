{"ast":null,"code":"import _styled3 from \"styled-components\";\nimport _styled2 from \"styled-components\";\nimport _styled from \"styled-components\";\nvar _jsxFileName = \"C:\\\\Users\\\\wljudii\\\\Desktop\\\\project\\\\project-team-07-blackbox\\\\code\\\\frontend\\\\src\\\\components\\\\styleBox\\\\Register.jsx\";\nimport React, { Component } from \"react\";\nimport AnimationRevealPage from \"helpers/AnimationRevealPage.js\";\nimport { Container as ContainerBase } from \"components/misc/Layouts\";\nimport styled from \"styled-components\";\nimport logo from \"images/logo.svg\";\nimport AuthenticationService from '../../api/styleBox/AuthenticationService';\nimport cookie from 'react-cookies';\nimport validator from 'validator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled(ContainerBase).withConfig({\n  displayName: \"Register__Container\",\n  componentId: \"sc-1omfjdn-0\"\n})({\n  \"minHeight\": \"100vh\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(60, 13, 153, var(--tw-bg-opacity))\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(255, 255, 255, var(--tw-text-opacity))\",\n  \"fontWeight\": \"500\",\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\",\n  \"margin\": \"-2rem\"\n});\nconst Content = styled.div.withConfig({\n  displayName: \"Register__Content\",\n  componentId: \"sc-1omfjdn-1\"\n})({\n  \"maxWidth\": \"1280px\",\n  \"margin\": \"0\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(26, 32, 44, var(--tw-text-opacity))\",\n  \"--tw-shadow\": \"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\",\n  \"boxShadow\": \"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\",\n  \"flex\": \"1 1 0%\",\n  \"@media (min-width: 640px)\": {\n    \"marginLeft\": \"5rem\",\n    \"marginRight\": \"5rem\",\n    \"marginTop\": \"4rem\",\n    \"marginBottom\": \"4rem\",\n    \"borderRadius\": \"0.5rem\"\n  }\n});\nconst MainContainer = styled.div.withConfig({\n  displayName: \"Register__MainContainer\",\n  componentId: \"sc-1omfjdn-2\"\n})({\n  \"padding\": \"1.5rem\",\n  \"@media (min-width: 640px)\": {\n    \"padding\": \"3rem\"\n  },\n  \"@media (min-width: 1024px)\": {\n    \"width\": \"50%\"\n  },\n  \"@media (min-width: 1280px)\": {\n    \"width\": \"41.666667%\"\n  }\n});\nconst LogoLink = styled.a.withConfig({\n  displayName: \"Register__LogoLink\",\n  componentId: \"sc-1omfjdn-3\"\n})({});\nconst LogoImage = styled.img.withConfig({\n  displayName: \"Register__LogoImage\",\n  componentId: \"sc-1omfjdn-4\"\n})({\n  \"height\": \"3rem\",\n  \"marginLeft\": \"auto\",\n  \"marginRight\": \"auto\"\n});\nconst MainContent = styled.div.withConfig({\n  displayName: \"Register__MainContent\",\n  componentId: \"sc-1omfjdn-5\"\n})({\n  \"marginTop\": \"3rem\",\n  \"display\": \"flex\",\n  \"flexDirection\": \"column\",\n  \"alignItems\": \"center\"\n});\nconst Heading = styled.h1.withConfig({\n  displayName: \"Register__Heading\",\n  componentId: \"sc-1omfjdn-6\"\n})({\n  \"fontSize\": \"1.5rem\",\n  \"fontWeight\": \"800\",\n  \"@media (min-width: 1280px)\": {\n    \"fontSize\": \"1.875rem\"\n  }\n});\nconst FormContainer = styled.div.withConfig({\n  displayName: \"Register__FormContainer\",\n  componentId: \"sc-1omfjdn-7\"\n})({\n  \"width\": \"100%\",\n  \"flex\": \"1 1 0%\",\n  \"marginTop\": \"2rem\"\n});\nconst SocialButtonsContainer = styled.div.withConfig({\n  displayName: \"Register__SocialButtonsContainer\",\n  componentId: \"sc-1omfjdn-8\"\n})({\n  \"display\": \"flex\",\n  \"flexDirection\": \"column\",\n  \"alignItems\": \"center\"\n});\nconst SocialButton = styled.a.withConfig({\n  displayName: \"Register__SocialButton\",\n  componentId: \"sc-1omfjdn-9\"\n})([\"\", \" .iconContainer{\", \"}.icon{\", \"}.text{\", \"}\"], {\n  \"width\": \"100%\",\n  \"maxWidth\": \"20rem\",\n  \"fontWeight\": \"600\",\n  \"borderRadius\": \"0.5rem\",\n  \"paddingTop\": \"0.75rem\",\n  \"paddingBottom\": \"0.75rem\",\n  \"borderWidth\": \"1px\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(26, 32, 44, var(--tw-text-opacity))\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(247, 250, 252, var(--tw-bg-opacity))\",\n  \":hover, :focus\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(237, 242, 247, var(--tw-bg-opacity))\",\n    \"--tw-border-opacity\": \"1\",\n    \"borderColor\": \"rgba(203, 213, 224, var(--tw-border-opacity))\"\n  },\n  \"display\": \"flex\",\n  \"alignItems\": \"center\",\n  \"justifyContent\": \"center\",\n  \"transitionProperty\": \"all\",\n  \"transitionDuration\": \"300ms\",\n  \":focus\": {\n    \"outline\": \"2px solid transparent\",\n    \"outlineOffset\": \"2px\",\n    \"--tw-shadow\": \"0 0 0 3px rgba(66, 153, 225, 0.5)\",\n    \"boxShadow\": \"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\"\n  },\n  \"fontSize\": \"0.875rem\",\n  \"marginTop\": \"1.25rem\",\n  \":first-child\": {\n    \"marginTop\": \"0\"\n  }\n}, {\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\",\n  \"padding\": \"0.5rem\",\n  \"borderRadius\": \"9999px\"\n}, {\n  \"width\": \"1rem\"\n}, {\n  \"marginLeft\": \"1rem\"\n});\nconst DividerTextContainer = styled.div.withConfig({\n  displayName: \"Register__DividerTextContainer\",\n  componentId: \"sc-1omfjdn-10\"\n})({\n  \"marginTop\": \"3rem\",\n  \"marginBottom\": \"3rem\",\n  \"borderBottomWidth\": \"1px\",\n  \"textAlign\": \"center\",\n  \"position\": \"relative\"\n});\nconst DividerText = styled.div.withConfig({\n  displayName: \"Register__DividerText\",\n  componentId: \"sc-1omfjdn-11\"\n})({\n  \"--tw-translate-x\": \"0\",\n  \"--tw-translate-y\": \"-50%\",\n  \"--tw-rotate\": \"0\",\n  \"--tw-skew-x\": \"0\",\n  \"--tw-skew-y\": \"0\",\n  \"--tw-scale-x\": \"1\",\n  \"--tw-scale-y\": \"1\",\n  \"transform\": \"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))\",\n  \"lineHeight\": \"1\",\n  \"paddingLeft\": \"0.5rem\",\n  \"paddingRight\": \"0.5rem\",\n  \"display\": \"inline-block\",\n  \"fontSize\": \"0.875rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(113, 128, 150, var(--tw-text-opacity))\",\n  \"letterSpacing\": \"0.025em\",\n  \"fontWeight\": \"500\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"transparent\",\n  \"position\": \"absolute\",\n  \"left\": \"0\",\n  \"right\": \"0\",\n  \"top\": \"50%\"\n});\nconst Form = styled.form.withConfig({\n  displayName: \"Register__Form\",\n  componentId: \"sc-1omfjdn-12\"\n})({\n  \"marginLeft\": \"auto\",\n  \"marginRight\": \"auto\",\n  \"maxWidth\": \"20rem\"\n});\nconst Input = styled.input.withConfig({\n  displayName: \"Register__Input\",\n  componentId: \"sc-1omfjdn-13\"\n})({\n  \"width\": \"100%\",\n  \"paddingLeft\": \"2rem\",\n  \"paddingRight\": \"2rem\",\n  \"paddingTop\": \"1rem\",\n  \"paddingBottom\": \"1rem\",\n  \"borderRadius\": \"0.5rem\",\n  \"fontWeight\": \"500\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(247, 250, 252, var(--tw-bg-opacity))\",\n  \"borderWidth\": \"1px\",\n  \"--tw-border-opacity\": \"1\",\n  \"borderColor\": \"rgba(237, 242, 247, var(--tw-border-opacity))\",\n  \"::placeholder\": {\n    \"--tw-placeholder-opacity\": \"1\",\n    \"color\": \"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"\n  },\n  \"fontSize\": \"0.875rem\",\n  \":focus\": {\n    \"outline\": \"2px solid transparent\",\n    \"outlineOffset\": \"2px\",\n    \"--tw-border-opacity\": \"1\",\n    \"borderColor\": \"rgba(203, 213, 224, var(--tw-border-opacity))\",\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\"\n  },\n  \"marginTop\": \"1.25rem\",\n  \":first-child\": {\n    \"marginTop\": \"0\"\n  }\n});\nconst SubmitButton = styled.button.withConfig({\n  displayName: \"Register__SubmitButton\",\n  componentId: \"sc-1omfjdn-14\"\n})([\"\", \" .icon{\", \"}.text{\", \"}\"], {\n  \"marginTop\": \"1.25rem\",\n  \"letterSpacing\": \"0.025em\",\n  \"fontWeight\": \"600\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(100, 21, 255, var(--tw-bg-opacity))\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(247, 250, 252, var(--tw-text-opacity))\",\n  \"width\": \"100%\",\n  \"paddingTop\": \"1rem\",\n  \"paddingBottom\": \"1rem\",\n  \"borderRadius\": \"0.5rem\",\n  \":hover\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(60, 13, 153, var(--tw-bg-opacity))\"\n  },\n  \"transitionProperty\": \"all\",\n  \"transitionDuration\": \"300ms\",\n  \"transitionTimingFunction\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n  \"display\": \"flex\",\n  \"alignItems\": \"center\",\n  \"justifyContent\": \"center\",\n  \":focus\": {\n    \"--tw-shadow\": \"0 0 0 3px rgba(66, 153, 225, 0.5)\",\n    \"boxShadow\": \"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\n    \"outline\": \"2px solid transparent\",\n    \"outlineOffset\": \"2px\"\n  }\n}, {\n  \"width\": \"1.5rem\",\n  \"height\": \"1.5rem\",\n  \"marginLeft\": \"-0.5rem\"\n}, {\n  \"marginLeft\": \"0.75rem\"\n});\nconst IllustrationContainer = styled.div.withConfig({\n  displayName: \"Register__IllustrationContainer\",\n  componentId: \"sc-1omfjdn-15\"\n})({\n  \"flex\": \"1 1 0%\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(250, 245, 255, var(--tw-bg-opacity))\",\n  \"textAlign\": \"center\",\n  \"display\": \"none\",\n  \"justifyContent\": \"center\",\n  \"@media (min-width: 640px)\": {\n    \"borderTopRightRadius\": \"0.5rem\",\n    \"borderBottomRightRadius\": \"0.5rem\"\n  },\n  \"@media (min-width: 1024px)\": {\n    \"display\": \"flex\"\n  }\n});\nconst IllustrationImage = styled.div.withConfig({\n  displayName: \"Register__IllustrationImage\",\n  componentId: \"sc-1omfjdn-16\"\n})([\"\", \" \", \"\"], props => `background-image: url(\"${props.imageSrc}\");`, {\n  \"margin\": \"3rem\",\n  \"width\": \"100%\",\n  \"maxWidth\": \"24rem\",\n  \"backgroundSize\": \"contain\",\n  \"backgroundPosition\": \"center\",\n  \"backgroundRepeat\": \"no-repeat\",\n  \"@media (min-width: 1280px)\": {\n    \"margin\": \"4rem\"\n  }\n});\n\nvar _StyledP = styled(\"p\").withConfig({\n  displayName: \"Register___StyledP\",\n  componentId: \"sc-1omfjdn-17\"\n})({\n  \"marginTop\": \"0.5rem\",\n  \"marginBottom\": \"0.5rem\",\n  \"fontSize\": \"0.875rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(192, 86, 33, var(--tw-text-opacity))\"\n});\n\nvar _StyledP2 = styled(\"p\").withConfig({\n  displayName: \"Register___StyledP2\",\n  componentId: \"sc-1omfjdn-18\"\n})({\n  \"marginTop\": \"0.5rem\",\n  \"marginBottom\": \"0.5rem\",\n  \"fontSize\": \"0.875rem\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(192, 86, 33, var(--tw-text-opacity))\"\n});\n\nclass Login extends Component {\n  // -----------------Constructor--------------------\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Register 参数\n      username: '',\n      email: '',\n      password: '',\n      role: 0,\n      emailMessage: 'Enter your email in xxx@xxx form',\n      pswMessage: 'Need strong password: length > 7, at least 1 lowercase, uppercase, number and symbol'\n    }; // function part\n\n    this.checkPassword = this.checkPassword.bind(this);\n    this.checkEmail = this.checkEmail.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.registerClicked = this.registerClicked.bind(this);\n  } // -----------------Functions--------------------\n\n\n  checkEmail(myEmail) {\n    if (!validator.isEmail(myEmail)) {\n      this.setState({\n        emailMessage: 'Invalid email !'\n      });\n    } else {\n      this.setState({\n        emailMessage: 'Valid email !'\n      });\n    }\n  }\n\n  checkPassword(psw) {\n    if (validator.isStrongPassword(psw, {\n      minLength: 8,\n      minLowercase: 1,\n      minUppercase: 1,\n      minNumbers: 1,\n      minSymbols: 1\n    })) {\n      this.setState({\n        pswMessage: 'Strong password !'\n      });\n    } else {\n      this.setState({\n        pswMessage: 'Weak password: need length > 7, at least 1 lowercase, uppercase, number and symbol'\n      });\n    }\n  }\n\n  handleChange(event) {\n    if (event.target.name === \"password\") {\n      this.checkPassword(event.target.value);\n    }\n\n    if (event.target.name === \"email\") {\n      this.checkEmail(event.target.value);\n    }\n\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  registerClicked(event) {\n    if (this.state.emailMessage !== 'Valid email !' || this.state.pswMessage !== 'Strong password !') {\n      alert('Please change your info: not valid user information!');\n    } else {\n      AuthenticationService.registerUtil(this.state.username, this.state.email, this.state.password, this.state.role).then(response => {\n        // 处理前端返回的结果\n        if (response.status === 200) {\n          alert('Register successful, automatic login !');\n          console.log('register successfully with username' + this.state.username + ' and password ' + this.state.password);\n          AuthenticationService.loginSuccessfulRegister(cookie.load);\n          this.props.history.push(`/user/profile`, this.state.username);\n        }\n      }).catch(error => {\n        alert(error.response.data.displayMessage);\n      });\n    }\n\n    event.preventDefault();\n  } // -----------------Render--------------------\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(AnimationRevealPage, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Content, {\n          children: /*#__PURE__*/_jsxDEV(MainContainer, {\n            children: /*#__PURE__*/_jsxDEV(MainContent, {\n              children: [/*#__PURE__*/_jsxDEV(Heading, {\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    name: \"username\",\n                    placeholder: \"Enter UserName Here\",\n                    value: this.state.username,\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    name: \"email\",\n                    placeholder: \"Enter Email Here\",\n                    value: this.state.email,\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(_StyledP, {\n                    \"data-tw\": \"my-2 text-sm text-orange-700\",\n                    children: this.state.emailMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    name: \"password\",\n                    placeholder: \"Enter Password Here\",\n                    value: this.state.password,\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(_StyledP2, {\n                    \"data-tw\": \"my-2 text-sm text-orange-700\",\n                    children: this.state.pswMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n                    type: \"submit\",\n                    onClick: this.registerClicked,\n                    children: \" Register \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/wljudii/Desktop/project/project-team-07-blackbox/code/frontend/src/components/styleBox/Register.jsx"],"names":["React","Component","AnimationRevealPage","Container","ContainerBase","styled","AuthenticationService","cookie","validator","tw","Content","div","MainContainer","LogoLink","a","LogoImage","img","MainContent","Heading","h1","FormContainer","SocialButtonsContainer","SocialButton","DividerTextContainer","DividerText","Form","form","Input","input","SubmitButton","button","IllustrationContainer","IllustrationImage","props","imageSrc","Login","constructor","state","username","email","password","role","emailMessage","pswMessage","checkPassword","bind","checkEmail","handleChange","registerClicked","myEmail","isEmail","setState","psw","isStrongPassword","minLength","minLowercase","minUppercase","minNumbers","minSymbols","event","target","name","value","alert","registerUtil","then","response","status","console","log","loginSuccessfulRegister","load","history","push","catch","error","data","displayMessage","preventDefault","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport AnimationRevealPage from \"helpers/AnimationRevealPage.js\";\r\nimport { Container as ContainerBase } from \"components/misc/Layouts\";\r\nimport tw from \"twin.macro\";\r\nimport styled from \"styled-components\";\r\nimport logo from \"images/logo.svg\";\r\n\r\nimport AuthenticationService from '../../api/styleBox/AuthenticationService';\r\nimport cookie from 'react-cookies'\r\nimport validator from 'validator'\r\n\r\nconst Container = tw(ContainerBase)`min-h-screen bg-primary-900 text-white font-medium flex justify-center -m-8`;\r\nconst Content = tw.div`max-w-screen-xl m-0 sm:mx-20 sm:my-16 bg-white text-gray-900 shadow sm:rounded-lg flex justify-center flex-1`;\r\nconst MainContainer = tw.div`lg:w-1/2 xl:w-5/12 p-6 sm:p-12`;\r\nconst LogoLink = tw.a``;\r\nconst LogoImage = tw.img`h-12 mx-auto`;\r\nconst MainContent = tw.div`mt-12 flex flex-col items-center`;\r\nconst Heading = tw.h1`text-2xl xl:text-3xl font-extrabold`;\r\nconst FormContainer = tw.div`w-full flex-1 mt-8`;\r\n\r\nconst SocialButtonsContainer = tw.div`flex flex-col items-center`;\r\nconst SocialButton = styled.a`\r\n  ${tw`w-full max-w-xs font-semibold rounded-lg py-3 border text-gray-900 bg-gray-100 hocus:bg-gray-200 hocus:border-gray-400 flex items-center justify-center transition-all duration-300 focus:outline-none focus:shadow-outline text-sm mt-5 first:mt-0`}\r\n  .iconContainer {\r\n    ${tw`bg-white p-2 rounded-full`}\r\n  }\r\n  .icon {\r\n    ${tw`w-4`}\r\n  }\r\n  .text {\r\n    ${tw`ml-4`}\r\n  }\r\n`;\r\n\r\nconst DividerTextContainer = tw.div`my-12 border-b text-center relative`;\r\nconst DividerText = tw.div`leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform -translate-y-1/2 absolute inset-x-0 top-1/2 bg-transparent`;\r\n\r\nconst Form = tw.form`mx-auto max-w-xs`;\r\nconst Input = tw.input`w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5 first:mt-0`;\r\nconst SubmitButton = styled.button`\r\n  ${tw`mt-5 tracking-wide font-semibold bg-primary-500 text-gray-100 w-full py-4 rounded-lg hover:bg-primary-900 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none`}\r\n  .icon {\r\n    ${tw`w-6 h-6 -ml-2`}\r\n  }\r\n  .text {\r\n    ${tw`ml-3`}\r\n  }\r\n`;\r\nconst IllustrationContainer = tw.div`sm:rounded-r-lg flex-1 bg-purple-100 text-center hidden lg:flex justify-center`;\r\nconst IllustrationImage = styled.div`\r\n  ${props => `background-image: url(\"${props.imageSrc}\");`}\r\n  ${tw`m-12 xl:m-16 w-full max-w-sm bg-contain bg-center bg-no-repeat`}\r\n`;\r\n\r\nclass Login extends Component {\r\n  // -----------------Constructor--------------------\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this.state = {\r\n        // Register 参数\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        role: 0,\r\n        emailMessage: 'Enter your email in xxx@xxx form',\r\n        pswMessage: 'Need strong password: length > 7, at least 1 lowercase, uppercase, number and symbol'\r\n    }\r\n    // function part\r\n    this.checkPassword = this.checkPassword.bind(this)\r\n    this.checkEmail = this.checkEmail.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.registerClicked = this.registerClicked.bind(this)\r\n  }\r\n\r\n  // -----------------Functions--------------------\r\n  \r\n  checkEmail(myEmail){\r\n    if(!validator.isEmail(myEmail)){\r\n        this.setState({emailMessage: 'Invalid email !'})\r\n    }\r\n    else{\r\n        this.setState({emailMessage: 'Valid email !'})\r\n    }\r\n    }\r\n\r\n    checkPassword(psw){\r\n        if (validator.isStrongPassword(psw, {\r\n            minLength: 8, minLowercase: 1,\r\n            minUppercase: 1, minNumbers: 1, minSymbols: 1})){\r\n            this.setState({pswMessage: 'Strong password !'})\r\n        }\r\n        else{\r\n            this.setState({pswMessage: 'Weak password: need length > 7, at least 1 lowercase, uppercase, number and symbol'})\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        if (event.target.name === \"password\"){\r\n            this.checkPassword(event.target.value)\r\n        }\r\n        \r\n        if(event.target.name === \"email\"){\r\n            this.checkEmail(event.target.value)\r\n        }\r\n        \r\n        this.setState(\r\n            {\r\n                [event.target.name]\r\n                    : event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    registerClicked(event) {\r\n        if(this.state.emailMessage !=='Valid email !' || this.state.pswMessage !== 'Strong password !'){\r\n            alert('Please change your info: not valid user information!')\r\n        }\r\n        else{\r\n            AuthenticationService\r\n            .registerUtil(this.state.username, this.state.email, this.state.password, this.state.role)\r\n            .then((response) => {\r\n                // 处理前端返回的结果\r\n                if (response.status === 200) {\r\n                    alert('Register successful, automatic login !')\r\n                    console.log('register successfully with username' + this.state.username + ' and password ' + this.state.password)\r\n                    AuthenticationService.loginSuccessfulRegister(cookie.load)\r\n                    this.props.history.push(`/user/profile`, this.state.username)\r\n                }            \r\n            })\r\n            .catch((error) => {\r\n                alert(error.response.data.displayMessage)\r\n            })\r\n        } \r\n        event.preventDefault();\r\n    }\r\n  \r\n  // -----------------Render--------------------\r\n  render(){\r\n    return(\r\n      <AnimationRevealPage>\r\n        <Container>\r\n          <Content>\r\n            <MainContainer>\r\n              <MainContent>\r\n                <Heading>{\"Register\"}</Heading>\r\n                <FormContainer>\r\n                  <Form>\r\n                    <Input type=\"text\" name='username' placeholder='Enter UserName Here' value={this.state.username} onChange={this.handleChange}/>\r\n                    <Input type='text' name='email' placeholder='Enter Email Here' value={this.state.email} onChange={this.handleChange} />\r\n                    <p tw=\"my-2 text-sm text-orange-700\">{this.state.emailMessage}</p>\r\n                    <Input type=\"text\" name='password' placeholder='Enter Password Here' value={this.state.password} onChange={this.handleChange}/>\r\n                    <p tw=\"my-2 text-sm text-orange-700\">{this.state.pswMessage}</p>\r\n                    <SubmitButton type=\"submit\" onClick={this.registerClicked}> Register </SubmitButton>\r\n                  </Form>\r\n                </FormContainer>\r\n              </MainContent>\r\n            </MainContainer>\r\n          </Content>\r\n        </Container>\r\n      </AnimationRevealPage>\r\n    )\r\n  }\r\n\r\n  \r\n\r\n\r\n}\r\n\r\nexport default Login\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}